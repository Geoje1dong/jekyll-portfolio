---
layout: home
title: Home
---


<div id="work-list">
	<div id="scrolling" class="clearfix mCustomScrollbar" style="width:100vw;">
	</div>
</div>

<div id="work-content">
	<div class="article">

	</div>
</div>
<link rel="stylesheet" href="{{ site.asset_url }}/css/jquery.mCustomScrollbar.css" />
<script src="{{ site.asset_url }}/js/jquery.mCustomScrollbar.js"></script>
<script>
  $(document).ready(function(){
    $.ajax({
      url : "{{ site.work_url }}/work.json",
      dataType : "json",
      success : function(data){
        var card_wrap = $('#scrolling');
        var show = "";
        $.each(data,function(index, item){
						show += '<div class="card">';
						//show += '	<button class="thumb" onClick=abs('+(index+1)+'); style="background-image:url({{ site.img_url }}/'+item.work_img+'.jg);">';
						show += '	<button class="thumb" onClick=abs('+(index+1)+'); style="background:#fff;">';
						show += '		<div class="info">';
						show += '			<p class="name">';
						show += '				<span>'+item.tit+'</span>';
						show += '				'+item.cnt+'';
						show += '			</p>';
						show += '		</div>';
						show += '	</button>';
						show += '</div>';
        });
        card_wrap.append(show);
				$("#scrolling").mCustomScrollbar({
					axis:"x",
					theme:"dark-thin",
					autoExpandScrollbar:true,
					advanced:{autoExpandHorizontalScroll:true}
				});
      },
    });
  });

  function abs(listNumber){
  	$.ajax({
      url : "{{ site.work_url }}/work"+listNumber+".html",
      dataType : "html",
      success : function(data){
				$('#work-content').css('display','block');
        $('#work-content>.article').append(data);
				setTimeout(function(){
					$('#work-content').addClass('active');
					let close = '<button class="close" type="button" onClick="contentClose()";><img src="{{ site.work_url }}/img/down-arrow.svg"></button>'
					$('#work-content>.article').append(close);
				}, 100);
      }
    });
  };
  function contentClose(){
	  $('#work-content').removeClass('active');
	  $('#work-content>.article').empty();
  }

	let cardList = document.querySelector('#scrolling');
	let OriginalText = '';
	let timer;
	cardList.addEventListener("mouseover", cardOverEventHandler)
	cardList.addEventListener("mouseout", cardOutEventHandler)

	function cardOverEventHandler(event){
	  let target = event.target;
	  if(target.className === 'thumb'){
	    const effectTarget = target.querySelector('.name');
	    OriginalText = effectTarget.innerText;
	    const speed = 75;
	    let Text = effectTarget.innerText;
	    let i = 0;
	    effectTarget.innerHTML = '';
	    timer = setInterval(function() {
	      if (i < Text.length) {
	        let text1 = document.createTextNode(Text.charAt(i));
	        effectTarget.appendChild(text1);
	        i++;
	      } else {
	        clearInterval(timer);
	      }
	    }, speed);
	  }
	}

	function cardOutEventHandler(event){
	  let target = event.target;
	  if(target.className === 'thumb'){
	    clearInterval(timer);
	    let text1 = document.createTextNode(OriginalText);
	    let element = target.querySelector('.name');
	    element.innerHTML = '';
	    element.appendChild(text1);
	  }
	}

</script>
